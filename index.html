<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Discover the latest and most powerful AI tools categorized for easy browsing." />
  <title>AI Tools Directory</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <h1>ðŸ¤– AI Tools Directory</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="submit.html">Submit Idea</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <a href="privacy.html">Privacy</a>
      <a href="games.html">Games</a>
    </nav>
  </header>

  <section class="intro">
    <h2>Explore AI Tools by Category</h2>
    <p>Browse through 100+ AI tools sorted by categories like Chatbots, Image Generators, Coding, and more.</p>

    <!-- Search -->
    <input type="text" id="searchInput" placeholder="Search tools..." onkeyup="searchTools()">

    <!-- Sorting -->
    <select id="sortSelect" onchange="sortTools()">
      <option value="az">Sort Aâ€“Z</option>
      <option value="za">Sort Zâ€“A</option>
    </select>

    <!-- Dark Mode -->
    <button id="darkToggle" onclick="toggleDarkMode()">ðŸŒ™ Dark Mode</button>
  </section>

  <!-- Category Filter -->
  <section class="category-filter">
    <button onclick="filterTools('all')">All</button>
    <button onclick="filterTools('Chatbot')">Chatbots</button>
    <button onclick="filterTools('Image Generator')">Image Generators</button>
    <button onclick="filterTools('Video')">Video</button>
    <button onclick="filterTools('Audio/Voice')">Audio/Voice</button>
    <button onclick="filterTools('Coding')">Coding</button>
    <button onclick="filterTools('Research')">Research</button>
    <button onclick="filterTools('SEO')">SEO</button>
    <button onclick="filterTools('Productivity')">Productivity</button>
    <button onclick="filterTools('Marketing')">Marketing</button>
    <button onclick="filterTools('Automation')">Automation</button>
    <button onclick="filterTools('Education')">Education</button>
    <button onclick="filterTools('Design')">Design</button>
  </section>

  <!-- Pagination -->
  <div id="pagination" class="pagination"></div>

  <!-- Dynamic Cards -->
  <section class="cards" id="tools-container">
    <p>Loading tools...</p>
  </section>

  <footer>
    <p>&copy; 2025 AI Tools Directory | All Rights Reserved</p>
  </footer>

  <!-- âœ… Updated JavaScript with pagination, search, sort, dark mode -->
  <script>
    let toolsList = [];
    let currentPage = 1;
    const perPage = 12;

    fetch("tools.json")
      .then(res => res.json())
      .then(data => {
        toolsList = data;
        displayTools(toolsList);
        setupPagination(toolsList);
      });

    function displayTools(tools) {
      const container = document.getElementById("tools-container");
      container.innerHTML = "";

      const start = (currentPage - 1) * perPage;
      const paginatedItems = tools.slice(start, start + perPage);

      if (paginatedItems.length === 0) {
        container.innerHTML = "<p>No tools found.</p>";
        return;
      }

      paginatedItems.forEach(tool => {
        const card = document.createElement("div");
        card.classList.add("card");

        card.innerHTML = `
          <h3>${tool.name}</h3>
          <p>${tool.description}</p>
          <p class="category-tag">${tool.category}</p>
          <a href="${tool.link}" target="_blank" onclick="countClick('${tool.name}')">Visit Tool</a>
        `;

        container.appendChild(card);
      });
    }

    function filterTools(category) {
      currentPage = 1;
      if (category === "all") {
        displayTools(toolsList);
        setupPagination(toolsList);
      } else {
        const filtered = toolsList.filter(tool => tool.category === category);
        displayTools(filtered);
        setupPagination(filtered);
      }
    }

    function searchTools() {
      const query = document.getElementById("searchInput").value.toLowerCase();
      const results = toolsList.filter(t =>
        t.name.toLowerCase().includes(query) ||
        t.description.toLowerCase().includes(query)
      );
      currentPage = 1;
      displayTools(results);
      setupPagination(results);
    }

    function sortTools() {
      const type = document.getElementById("sortSelect").value;

      if (type === "az") {
        toolsList.sort((a, b) => a.name.localeCompare(b.name));
      } else {
        toolsList.sort((a, b) => b.name.localeCompare(a.name));
      }

      displayTools(toolsList);
      setupPagination(toolsList);
    }

    function setupPagination(items) {
      const pages = Math.ceil(items.length / perPage);
      const pagination = document.getElementById("pagination");
      pagination.innerHTML = "";

      for (let i = 1; i <= pages; i++) {
        pagination.innerHTML += `<button onclick="goToPage(${i})">${i}</button>`;
      }
    }

    function goToPage(page) {
      currentPage = page;
      displayTools(toolsList);
    }

    function countClick(toolName) {
      let clicks = JSON.parse(localStorage.getItem("clicks")) || {};
      clicks[toolName] = (clicks[toolName] || 0) + 1;
      localStorage.setItem("clicks", JSON.stringify(clicks));
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      localStorage.setItem("darkMode", document.body.classList.contains("dark"));
    }

    if (localStorage.getItem("darkMode") === "true") {
      document.body.classList.add("dark");
    }
  </script>

</body>
</html>
